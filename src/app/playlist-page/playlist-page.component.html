<app-playlist-header [playlistId]="playlistId"></app-playlist-header>
<div class="search-form">
    <mat-icon matPrefix>search</mat-icon>
    <input matInput placeholder="Type search word here..." [(ngModel)]="keyword" [ngModelOptions]="{ standalone: true }"
        (ngModelChange)="handleSearch()" />
    <button matSuffix *ngIf="keyword" mat-icon-button aria-label="Clear" (click)="clearSearch()">
        <mat-icon>close</mat-icon>
    </button>
</div>
<div class="playlistContainer">
    <div class="videoWrapper" *ngFor="let item of playlistVideos">
        <div *ngIf="item.isValid; else invalidVideo" class="videoContent">
            <a target="_blank" href="{{YT_VIDEO_URL}}{{item.videoId}}">
                <img src={{item.img}} alt={{item.title}} />
                <p>{{item.title}}</p>
            </a>
            <button class="moreBtn" mat-icon-button [matMenuTriggerFor]="menu"
                aria-label="Example icon-button with a menu">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="removeVideo(item.playlistItemId)">
                    <span>Remove from {{title}}</span>
                </button>
                <button mat-menu-item (click)="openDialog()">
                    <span>Save to playlist</span>
                </button>
            </mat-menu>
        </div>
        <ng-template #invalidVideo>
            <div class=" defaultThumbnail">Video Unavailable
            </div>
            <p>{{item.title}}</p>
        </ng-template>
    </div>
</div>
<mat-paginator *ngIf="playlistItems.length > PAGE_SIZE" [length]="playlistItems.length" [pageSize]="PAGE_SIZE"
    aria-label="Select page" (page)="onPageChange($event)" class="paginator-wrapper">
</mat-paginator>